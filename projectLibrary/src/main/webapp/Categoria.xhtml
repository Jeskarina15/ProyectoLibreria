<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

<h:head>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600"></link>
    <!-- https://fonts.google.com/specimen/Open+Sans -->
    <link rel="stylesheet" href="css/fontawesome.min.css"></link>
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="css/fullcalendar.min.css"></link>
    <!-- https://fullcalendar.io/ -->
    <link rel="stylesheet" href="resources/css/bootstrap.min.css"></link>
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="css/tooplate.css"></link>
   <!-- jQuery --> 
 
   <script crossorigin="anonymous" integrity="sha384-xBuQ/xzmlsLoJpyjoggmTEz8OWUFM0/RC5BsqQBDX2v5cMvDHcMakNTNrHIW2I5f" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>    
 
    <!-- Chart JS -->
 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js" integrity="sha256-JG6hsuMjFnQ2spWq0UiaDRJBaarzhFbUxiUTxQDA9Lk=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.min.js" integrity="sha256-XF29CBwU1MWLaGEnsELogU6Y6rcc5nCkhhx89nFMIDQ=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js" integrity="sha256-J2sc79NPV/osLcIpzL3K8uJyAD7T5gaEFKlLDM18oxY=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js" integrity="sha256-CfcERD4Ov4+lKbWbYqXD6aFM9M51gN4GUEtDhkWABMo=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="js/datos.js"></script>
</h:head> 
<body> 
<div class="container">
<div class="row">
	<div class="col-md-6">
	<h:form>
   <div class="form-group">
    <label for="formGroupExampleInput">Id categoria</label>
    <h:inputText class="form-control" value="#{categoriaBean.id}" id="idcate"/>
   </div>
   <div class="form-group">
    <label for="formGroupExampleInput2">Nombre de la categoria</label>
    <h:inputText class="form-control" value="#{categoriaBean.c.categoria}" id="nombrea"/>
   </div>
   	<h:commandButton class="btn btn-secondary btn-lg btn-block" value="Crear categoria" action="#{categoriaBean.NuevaCategoria()}">
   	</h:commandButton>
	</h:form>
	</div>
	<div class="col-md-6">
	<h:form>
	<h:dataTable value="#{categoriaBean.listarCtgs}" var="categoria" class="table" id="tablacate">

	<h:column>
		<f:facet name="header">Id autor</f:facet>
		<h:inputText value="#{categoria.idcategoria}" />
	</h:column>
	<h:column>
		<f:facet name="header">Nombre autor</f:facet>
		<h:inputText value="#{categoria.categoria}" />
	</h:column>
	<h:column>
		<f:facet name="header">Eliminar</f:facet>
	<h:commandButton class="btn btn-danger" value="Eliminar" action="#{categoriaBean.EliminarCategoria(categoria.idcategoria)}">
	<f:ajax render="tablacate" execute="@all"> </f:ajax>
	</h:commandButton>

	</h:column>
	<h:column>
		<f:facet name="header">Actualizar</f:facet>
	<h:commandButton class="btn btn-success" value="Actualizar" action="#{categoriaBean.ActualizarCategoria(categoria.idcategoria, categoria.categoria)}">
		<f:ajax render="tablacate" execute="@all"> </f:ajax>
	</h:commandButton>

	</h:column>
	</h:dataTable>
<div class="row">
   <div class="col-md-12">
 
       <canvas id="miGrafico"></canvas> 
              
   </div>
</div> 
	
	</h:form>
	</div>
</div>
</div>
</body> 
</html>
